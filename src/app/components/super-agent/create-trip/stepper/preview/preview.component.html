<div class="position-relative" *ngIf="!published">
    <div class="w-100 bgf2 ptpb25">
        <div class="container d-flex justify-content-between">
            <div class="fs22 lh22 fw600 text-black">Preview & Create</div>
            <div class="d-inline-flex cursor-pointer" (click)="back()">
                <i class="blue_back_arrow icns icon_size_15"></i>
                <div class="blue_back_clr lh15 fs15 ml-2">Back</div>
            </div>
        </div>
    </div>

    <div class="mt-3 d-flex justify-content-between container" *ngIf="!shimmer">
        <div class="position-relative">
            <button type="submit" class="searchbutton" (click)="changeSearchDate()">Change Search</button>
            <div>
                <div class="change-Date-div popupmoving container" *ngIf="changeDateDiv">
                    <div class="fw500 fs20">Search Data</div>
                    <app-searching-data (notifyParent)="dateChangeAndSessionChange($event)" [homePage]="homePage"></app-searching-data>
                </div>
            </div>
        </div>
        <button type="submit" class="searchbutton" (click)="packageView()">Customer View</button>
    </div>

    <div class="container mt-3 mb-5" *ngIf="!changeDateDiv">

        <div class="boxborder" *ngIf="shimmer">
            <div>
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Departure Flight</div>
                    <div class="cursor-pointer"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div class="row m-0 p30">
                    <div class="col-md-3">
                        <div class="d-inline-flex">
                            <div class="flightlogo m10 ml-0">
                                <div class="shine lines w-100 h-100"></div>
                            </div>
                            <div>
                                <div class="shine lines ws110 h20"></div>
                                <div class="fs12 clr52">Aircraft</div>
                                <div class="shine lines ws110 h20"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-inline-flex">
                            <div class="text-right">
                                <span>
                                    <div>
                                        <div class="shine lines ws70 h25"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws110 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws130 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws70 h20"></div>
                                    </div>
                                </span>
                            </div>
                            <div class="text-center widthcenter">
                                <div class="shine lines ws70 h20"></div>
                                <div class="position-relative">
                                    <hr class="dashedline mt-2 mb-2">
                                    <i class="flight_duration_icon icns icon_size_15 positioniconduration"></i>
                                </div>
                            </div>
                            <div>
                                <span>
                                    <div>
                                        <div class="shine lines ws70 h25"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws110 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws130 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws70 h20"></div>
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 d-flex justify-content-end">
                        <div>
                            <span>
                                <div>
                                    <div class="shine lines ws130 h16"></div>
                                </div>
                                <div>
                                    <div class="shine lines ws130 h16"></div>
                                </div>
                                <div>
                                    <div class="shine lines ws130 h16"></div>
                                </div>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Return Flight</div>
                    <div class="cursor-pointer"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div class="row m-0 p30">
                    <div class="col-md-3">
                        <div class="d-inline-flex">
                            <div class="flightlogo m10 ml-0">
                                <div class="shine lines w-100 h-100"></div>
                            </div>
                            <div>
                                <div class="shine lines ws110 h20"></div>
                                <div class="fs12 clr52">Aircraft</div>
                                <div class="shine lines ws110 h20"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-inline-flex">
                            <div class="text-right">
                                <span>
                                    <div>
                                        <div class="shine lines ws70 h25"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws110 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws130 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws70 h20"></div>
                                    </div>
                                </span>
                            </div>
                            <div class="text-center widthcenter">
                                <div class="shine lines ws70 h20"></div>
                                <div class="position-relative">
                                    <hr class="dashedline mt-2 mb-2">
                                    <i class="flight_duration_icon icns icon_size_15 positioniconduration"></i>
                                </div>
                            </div>
                            <div>
                                <span>
                                    <div>
                                        <div class="shine lines ws70 h25"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws110 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws130 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws70 h20"></div>
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 d-flex justify-content-end">
                        <div>
                            <span>
                                <div>
                                    <div class="shine lines ws130 h16"></div>
                                </div>
                                <div>
                                    <div class="shine lines ws130 h16"></div>
                                </div>
                                <div>
                                    <div class="shine lines ws130 h16"></div>
                                </div>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Hotel in Makkah</div>
                    <div class="cursor-pointer"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div class="row m-0 p30">
                    <div class="col-md-6">
                        <div>
                            <div class="shine lines ws130 h16"></div>
                            <div class="fs14">No of days in Makkah <span class="shine lines ws70 h16"></span></div>
                        </div>
                        <div class="mt-3">
                            <div class="d-inline-flex">
                                <div>
                                    <div class="d-inline-flex">
                                        <i class="calendaricon icon_h16_w12 icns"></i>
                                        <div class="fs13 fw400 pl-1 pr-1 lh15">CHECK-IN</div>
                                        <i class="downarrow icon_h16_w12 icns"></i>
                                    </div>
                                    <div>
                                        <div class="shine lines ws70 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws110 h16"></div>
                                    </div>
                                </div>
                                <div class="text-center mt-2 w170px">
                                    <i class="icon_size_20 icns nighticon"></i>
                                    <div>
                                        <div class="shine lines ws70 h16"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="d-inline-flex">
                                        <i class="calendaricon icon_h16_w12 icns"></i>
                                        <div class="fs13 fw400 pl-1 pr-1 lh15">CHECK-OUT</div>
                                        <i class="downarrow icon_h16_w12 icns"></i>
                                    </div>
                                    <div>
                                        <div class="shine lines ws70 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws110 h16"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <table class="table w-100">
                            <tbody>
                                <tr>
                                    <th>Room Type</th>
                                    <th>Per Adult</th>
                                    <th>Per Child</th>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="shine lines h16 w-100"></div>
                                    </td>
                                    <td>
                                        <div class="shine lines h16 w-100"></div>
                                    </td>
                                    <td>
                                        <div class="shine lines h16 w-100"></div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div>
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Hotel in Medina</div>
                    <div class="cursor-pointer"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div class="row m-0 p30">
                    <div class="col-md-6">
                        <div>
                            <div class="shine lines ws130 h16"></div>
                            <div class="fs14">No of days in Makkah <span class="shine lines ws70 h16"></span></div>
                        </div>
                        <div class="mt-3">
                            <div class="d-inline-flex">
                                <div>
                                    <div class="d-inline-flex">
                                        <i class="calendaricon icon_h16_w12 icns"></i>
                                        <div class="fs13 fw400 pl-1 pr-1 lh15">CHECK-IN</div>
                                        <i class="downarrow icon_h16_w12 icns"></i>
                                    </div>
                                    <div>
                                        <div class="shine lines ws70 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws110 h16"></div>
                                    </div>
                                </div>
                                <div class="text-center mt-2 w170px">
                                    <i class="icon_size_20 icns nighticon"></i>
                                    <div>
                                        <div class="shine lines ws70 h16"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="d-inline-flex">
                                        <i class="calendaricon icon_h16_w12 icns"></i>
                                        <div class="fs13 fw400 pl-1 pr-1 lh15">CHECK-OUT</div>
                                        <i class="downarrow icon_h16_w12 icns"></i>
                                    </div>
                                    <div>
                                        <div class="shine lines ws70 h20"></div>
                                    </div>
                                    <div>
                                        <div class="shine lines ws110 h16"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <table class="table w-100">
                            <tbody>
                                <tr>
                                    <th>Room Type</th>
                                    <th>Per Adult</th>
                                    <th>Per Child</th>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="shine lines h16 w-100"></div>
                                    </td>
                                    <td>
                                        <div class="shine lines h16 w-100"></div>
                                    </td>
                                    <td>
                                        <div class="shine lines h16 w-100"></div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="!shimmer">
            <div class="boxborder my-2" *ngIf="flightDetails.length == 0 || response.madinah_hotel_detail == null || response.makkah_hotel_detail == null || transport.length == 0">
                <div class="">
                    <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">Skipped Services</div>
                    <div class="row m-0 p20">
                        <div class="col-md-4 p-0 mb10 d-flex" *ngIf="flightDetails.length == 0">
                            <div><i class="fa fa-hand-o-right" aria-hidden="true"></i></div>
                            <div class="px-2">Flight</div>
                            <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyButton('flight')">Add</div>
                        </div>
                        <div class="col-md-4 p-0 mb10 d-flex" *ngIf="response.makkah_hotel_detail == null">
                            <div><i class="fa fa-hand-o-right" aria-hidden="true"></i></div>
                            <div class="px-2">Makkah Hotel</div>
                            <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyHotelBttn('hotelMakkah','MAKKA')">Add</div>
                        </div>
                        <div class="col-md-4 p-0 mb10 d-flex" *ngIf="response.madinah_hotel_detail == null">
                            <div><i class="fa fa-hand-o-right" aria-hidden="true"></i></div>
                            <div class="px-2">Madeena Hotel</div>
                            <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyHotelBttn('hotelMadeena','MADEENA')">Add</div>
                        </div>
                        <div class="col-md-4 p-0 mb10 d-flex" *ngIf="transport.length == 0">
                            <div><i class="fa fa-hand-o-right" aria-hidden="true"></i></div>
                            <div class="px-2">Transport</div>
                            <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyButton('transport')">Add</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="boxborder" *ngIf="!shimmer">

            <div *ngIf="flightDetails.length > 0">
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Departure Flight</div>
                    <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyButton('flight')">Modify Flight</div>
                    <div class="cursor-pointer" (click)="toggleDetails($event,'depflight')"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div id="toggleDivdepflight" class="hightAnimation mh200">
                    <div class="row m-0 p30">
                        <div class="col-md-3">
                            <div class="d-inline-flex">
                                <div class="flightlogo m10 ml-0">
                                    <img src="https://imgak.mmtcdn.com/flights/assets/media/dt/common/icons/{{flightDetails[0].onward_mac}}.png" alt="">
                                </div>
                                <div class="my-auto">
                                    <div class="fs15">{{flightDetails[0]?.onward_flight_airline.split('|')[1]}} <span class="fs12 clr52">{{flightDetails[0]?.onward_mac}}-{{flightDetails[0]?.onward_flight_number}}</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-inline-flex">
                                <div class="text-right">
                                    <span>
                                        <div class="fs22 fw600">{{flightDetails[0]?.flights[0]?.onward_flight_departure_date | date:'HH:mm'}}</div>
                                        <div class="fs12 clr52">{{flightDetails[0]?.onward_dep_airport_name.split('|')[1]}} [{{flightDetails[0]?.onward_flight_departure_airport}}]</div>
                                        <div class="fw600 fs14">{{flightDetails[0]?.onward_dep_airport_name.split('|')[0]}}</div>
                                    </span>
                                </div>
                                <div class="text-center widthcenter">
                                    <div class="fs14 fw600">{{flightDetails[0]?.onward_duration}}</div>
                                    <div class="position-relative">
                                        <hr class="dashedline mt-2 mb-2">
                                        <div class="position_dot" *ngIf="flightDetails[0]?.onward_connections.length > 0">
                                            <span class="connectionflight" *ngFor="let item of flightDetails[0].onward_connections">
                                                <div class="redround"></div>
                                                <span class="connectionflighttext">
                                                    <div class="d-inline-flex">
                                                        <div class="flightlogo m10 ml-0">
                                                            <img src="https://imgak.mmtcdn.com/flights/assets/media/dt/common/icons/{{item.MAC.split('|')[0]}}.png" alt="">
                                                        </div>
                                                        <div>
                                                            <div class="fs15">{{item?.MAC?.split('|')[1]}}</div>
                                                            <div class="fs12 clr52">{{item?.ArrAirportName.split('|')[0]}}</div>
                                                            <div class="fs12 clr52">{{item?.ArrAirportName.split('|')[1]}}</div>
                                                            <div class="fs12 clr52">Duration : <strong>{{item?.Duration}}</strong></div>
                                                        </div>
                                                    </div>
                                                </span>
                                            </span>
                                        </div>
                                        <i class="flight_duration_icon icns icon_size_15 positioniconduration"></i>
                                    </div>
                                    <div class="d-flex justify-content-center pt-2">
                                        <div class="returnR fs14 bg_green" *ngIf="flightDetails[0]?.onward_refundable == 'R'">R</div>
                                        <div class="returnR fs14 bg_red" *ngIf="flightDetails[0]?.onward_refundable != 'R'">N</div>
                                    </div>
                                </div>
                                <div>
                                    <span>
                                        <div class="fs22 fw600">{{flightDetails[0]?.flights[0]?.onward_flight_arrival_date | date:'HH:mm'}}</div>
                                        <div class="fs12 clr52">{{flightDetails[0]?.onward_arr_airport_name.split('|')[1]}} [{{flightDetails[0]?.onward_flight_arrival_airport}}]</div>
                                        <div class="fw600 fs14">{{flightDetails[0]?.onward_arr_airport_name.split('|')[0]}}</div>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 d-flex justify-content-end">
                            <div>
                                <span>
                                    <div class="fs14 clr52">Price Per Adult : {{currency}} {{flightDetails[0]?.flights[0]?.adult_price}}</div>
                                    <div class="fs14 clr52">Price Per Child : {{currency}} {{flightDetails[0]?.flights[0]?.child_price}}</div>
                                    <!-- <div class="fs14 clr52">Price Per Infant : {{currency}} {{response?.trip_flights[0]?.infant_price}}</div> -->
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="flightDetails.length > 0">
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Return Flight</div>
                    <div class="cursor-pointer" (click)="toggleDetails($event,'retflight')"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div id="toggleDivretflight" class="hightAnimation mh200">
                    <div class="row m-0 p30">
                        <div class="col-md-3">
                            <div class="d-inline-flex">
                                <div class="flightlogo m10 ml-0">
                                    <img src="https://imgak.mmtcdn.com/flights/assets/media/dt/common/icons/{{flightDetails[0].return_mac}}.png" alt="">
                                </div>
                                <div class="my-auto">
                                    <div class="fs15">{{flightDetails[0]?.return_flight_airline.split('|')[1]}} <span class="fs12 clr52">{{flightDetails[0]?.return_mac}}-{{flightDetails[0]?.return_flight_number}}</span></div>
                                    <!-- <div class="fs12 clr52">Aircraft</div>
                                    <div class="fs12 clr52 text-uppercase">{{flightDetails[0]?.aircraft}}</div> -->
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-inline-flex">
                                <div class="text-right">
                                    <span>
                                        <div class="fs22 fw600">{{flightDetails[0]?.flights[0]?.return_flight_departure_date | date:'HH:mm'}}</div>
                                        <div class="fs12 clr52">{{flightDetails[0]?.return_dep_airport_name.split('|')[1]}} [{{flightDetails[0]?.return_flight_departure_airport}}]</div>
                                        <div class="fw600 fs14">{{flightDetails[0]?.return_dep_airport_name.split('|')[0]}}</div>
                                    </span>
                                </div>
                                <div class="text-center widthcenter">
                                    <div class="fs14 fw600">{{flightDetails[0]?.return_duration}}</div>
                                    <div class="position-relative">
                                        <hr class="dashedline mt-2 mb-2">
                                        <div class="position_dot" *ngIf="flightDetails[0]?.return_connections.length > 0">
                                            <span class="connectionflight" *ngFor="let item of flightDetails[0].return_connections">
                                                <div class="redround"></div>
                                                <span class="connectionflighttext">
                                                    <div class="d-inline-flex">
                                                        <div class="flightlogo m10 ml-0">
                                                            <img src="https://imgak.mmtcdn.com/flights/assets/media/dt/common/icons/{{item.MAC.split('|')[0]}}.png" alt="">
                                                        </div>
                                                        <div>
                                                            <div class="fs15">{{item?.MAC?.split('|')[1]}}</div>
                                                            <div class="fs12 clr52">{{item?.ArrAirportName.split('|')[0]}}</div>
                                                            <div class="fs12 clr52">{{item?.ArrAirportName.split('|')[1]}}</div>
                                                            <div class="fs12 clr52">Duration : <strong>{{item?.Duration}}</strong></div>
                                                        </div>
                                                    </div>
                                                </span>
                                            </span>
                                        </div>
                                        <i class="flight_duration_icon icns icon_size_15 positioniconduration"></i>
                                    </div>
                                    <div class="d-flex justify-content-center pt-2">
                                        <div class="returnR fs14 bg_green" *ngIf="flightDetails[0]?.return_refundable == 'R'">R</div>
                                        <div class="returnR fs14 bg_red" *ngIf="flightDetails[0]?.return_refundable != 'R'">N</div>
                                    </div>
                                </div>
                                <div>
                                    <span>
                                        <div class="fs22 fw600">{{flightDetails[0]?.flights[0]?.return_flight_arrival_date | date:'HH:mm'}}</div>
                                        <div class="fs12 clr52">{{flightDetails[0]?.return_arr_airport_name.split('|')[1]}} [{{flightDetails[0]?.return_flight_arrival_airport}}]</div>
                                        <div class="fw600 fs14">{{flightDetails[0]?.return_arr_airport_name.split('|')[0]}}</div>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="hotelDetails.length > 0">
                <div *ngFor="let item of hotelDetails">
                    <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                        <div class="fw600 fs16">Hotel in {{item?.location}}</div>
                        <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyHotelBttn('hotelMakkah','MAKKA')" *ngIf="item?.location == 'makkah'">Modify Makkah Hotel</div>
                        <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyHotelBttn('hotelMadeena','MADEENA')" *ngIf="item?.location == 'medinah'">Modify Medinah Hotel</div>
                        <div class="cursor-pointer" (click)="toggleDetails($event,'MakkaHotel')"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                    </div>
                    <div id="toggleDivMakkaHotel" class="hightAnimation mh200">
                        <div class="row m-0 p30">
                            <div class="col-md-6">
                                <div>
                                    <div class="fs16 fw600">{{item?.name}}
                                        <span class="pl-1" *ngIf="item.rating">
                                            <ngb-rating [(rate)]="item.rating" [readonly]="readonly" [max]=5>
                                                <ng-template let-fill="fill" let-index="index">
                                                    <span class="star" [class.filled]="fill === 100" [class.bad]="index < 2">&#9733;</span>
                                        </ng-template>
                                        </ngb-rating>
                                        </span>
                                    </div>
                                    <div class="fs14">No of days in {{item?.location}} <span class="clr_blue_18 pl-1">{{item?.num_of_days | number : '2.0-0'}}</span></div>
                                </div>
                                <div class="mt-3">
                                    <div class="d-inline-flex">
                                        <div>
                                            <div class="d-inline-flex">
                                                <i class="calendaricon icon_h16_w12 icns"></i>
                                                <div class="fs13 fw400 pl-1 pr-1 lh15">CHECK-IN</div>
                                                <i class="downarrow icon_h16_w12 icns"></i>
                                            </div>
                                            <h6 class="fs21 fw600 mb-0">{{item?.hotels[0]?.check_in | date:'shortTime'}}</h6>
                                        </div>
                                        <div class="text-center mt-2 w170px">
                                            <i class="icon_size_20 icns nighticon"></i>
                                            <h5 class="clr52 fs14">{{item?.num_of_days}} Night(s)</h5>
                                        </div>
                                        <div>
                                            <div class="d-inline-flex">
                                                <i class="calendaricon icon_h16_w12 icns"></i>
                                                <div class="fs13 fw400 pl-1 pr-1 lh15">CHECK-OUT</div>
                                                <i class="downarrow icon_h16_w12 icns"></i>
                                            </div>
                                            <h6 class="fs21 fw600 mb-0">{{item?.hotels[0]?.check_out | date:'shortTime'}}</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <table class="table w-100">
                                    <tbody>
                                        <tr>
                                            <th>Room Type</th>
                                            <th>Per Adult</th>
                                            <th>Per Child</th>
                                        </tr>
                                        <tr>
                                            <td>{{item?.room_name}}</td>
                                            <td>{{currency}} {{item?.hotels[0]?.adult_price}}</td>
                                            <td>{{currency}} {{item?.hotels[0]?.child_price}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="transport.length > 0">
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Transport</div>
                    <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyButton('transport')">Modify Transport</div>
                    <div class="cursor-pointer" (click)="toggleDetails($event,'Transport')"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div id="toggleDivTransport" class="hightAnimation mh120">
                    <div class="row m-0 p30">
                        <div class="col-md-3">
                            <div class="fs13">Vehicle Type</div>
                            <div class="fs21 fw600">{{transport[0]?.vehicle_type}}</div>
                        </div>
                        <div class="col-md-5">
                            <div class="fs16 fw600 overflowdot" title="{{companyName}}">{{transport[0]?.company_name}}</div>
                            <div class="clr52 fs13">Route : {{transport[0]?.route_name}}</div>
                        </div>
                        <div class="col-md-4">
                            <div class="clr52 fs14"> Person Per Vehicle - {{transport[0]?.transportations[0]?.pax_per_vehicle}}</div>
                            <div class="clr52 fs14">Price Per Person : {{currency}} {{currencyConversion(transport[0]?.transportations[0]?.price_per_pax)}}</div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="visa.length > 0">
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Visa</div>
                    <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyButton('otherServices')">Modify Other Services</div>
                    <div class="cursor-pointer" (click)="toggleDetails($event,'OtherService')"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div id="toggleDivOtherService" class="hightAnimation mh500">
                    <!-- <div class="row m-0 p30 pb-0 brdr_btm_d3" *ngIf="food_details.length != 0">
                        <div class="col-md-4 brdrght mb-3" *ngFor="let item of otherService;let i=index;">
                            <div class="fs16 fw600">Service {{i+1}}</div>
                            <div class="clr52 fs13 mt-2">
                                <div>Category : {{item?.additional_service?.category?.name}}</div>
                                <div>Name : {{item?.additional_service?.name}}</div>
                                <div>{{item?.additional_service?.description}}</div>
                                <div class="fs21 fw500 mt-2">{{currency}} {{item?.price}}</div>
                            </div>
                        </div>
                    </div> -->
                    <div class="p30 pt-2 ml15">
                        <div class="col-md-12">
                            <div class="fs16 fw600">Visa Service</div>
                            <div class="fs14 clr52 mt-2">{{visa[0]?.visa_type}}</div>
                            <div class="fs14">
                                <div>Rate for Adult - {{currency}}  {{visa[0]?.visas[0]?.adult_price}}</div>
                                <div>Rate for Child - {{currency}}  {{visa[0]?.visas[0]?.child_price}}</div>
                            </div>
                            <div class="fs14 clr52">{{visa[0]?.visa_description}}</div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Other Info</div>
                    <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyButton('otherInfo')">Modify Other Info</div>
                    <div class="cursor-pointer" (click)="toggleDetails($event,'OtherInfo')"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div id="toggleDivOtherInfo" class="hightAnimation">
                    <div class="m-0 row p30 brdr_btm_d3">
                        <div class="col-md-12">
                            <div class="fs16 fw600">{{masterDatas?.title}}</div>
                            <div class="d-flex mt-2">
                                <div class="fs13 clr52 fw400">Start From : </div>
                                <div class="fs14 fw500">{{masterDatas?.location}}</div>
                                <div class="mx-2 brdr_right_d3"></div>
                                <div class="fs13 clr52 fw400">Category :</div>
                                <div class="fs14 fw500 text-uppercase">{{masterDatas?.category}}</div>
                            </div>
                            <div class="mt-2 fs14 clr52" [innerHTML]="masterDatas?.overview"></div>
                            <div class="mainimage mt-2">
                                <img src="{{masterDatas?.images.file}}" class="itineraryimg" alt="">
                            </div>
                        </div>
                        <div class="col-md-12 mt-2">
                            <div class="fs16 fw600">Image Collections</div>
                        </div>
                        <div class="col-md-12 row" *ngIf="masterDatas.image_collections.length > 0">
                            <div class="col-md-4" *ngFor="let item of masterDatas.image_collections">
                                <div class="mainimage mt-2">
                                    <img src="{{item.file}}" class="itineraryimg" alt="">
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <div class="m-0 row p30 brdr_btm_d3">
                        <div class="col-md-6 brdrght">
                            <div class="fs16 fw600">Inclusions</div>
                            <div class="fs14 clr52 mt-2" [innerHTML]="masterDatas?.inclusions"></div>
                        </div>
                        <div class="col-md-6">
                            <div class="fs16 fw600">Exclusions</div>
                            <div class="fs14 clr52 mt-2" [innerHTML]="masterDatas?.exclusions"></div>
                        </div>
                    </div>
                    <div class="m-0 row p30 brdr_btm_d3">
                        <div class="col-md-12">
                            <div class="fs16 fw600">Policies</div>
                            <div class="fs14 clr52 mt-2" [innerHTML]="masterDatas?.terms"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Itinerary</div>
                    <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyButton('itinerary')">Modify Itinerary</div>
                    <div class="cursor-pointer" (click)="toggleDetails($event,'Itinerary')"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div id="toggleDivItinerary" class="hightAnimation">
                    <div class="m-0 row p30 brdr_btm_d3">
                        <div id="timeLine" class="mt-3 col-md-12">
                            <div>
                                <ul class="sessions">
                                    <span *ngFor="let item of itinerary;let i=index;">
                                    <li *ngIf="i<2">
                                        <div class="time">Day {{item?.day_number}} : {{item?.title}}</div>
                                        <div class="clr52 fs14 mt-2" [innerHTML]="item?.details"></div>
                                        <div class="row m-0">
                                          <div class="col-md-3 pl-0 mt-2" *ngIf="item.attachments.length > 0">
                                              <img [src]="item.attachments[0].file" class="itineraryimg" alt="">
                                          </div>
                                        </div>
                                    </li>
                                </span>
                                    <div class="itenaryfull">
                                        <span *ngFor="let item of itinerary;let i=index;">
                                        <li *ngIf="i>1">
                                            <div class="time">Day {{item?.day_number}} : {{item?.title}}</div>
                                            <div class="clr52 fs14 mt-2" [innerHTML]="item?.details"></div>
                                            <div class="row m-0">
                                                <div class="col-md-3 pl-0 mt-2" *ngIf="item.attachments.length > 0">
                                                    <img [src]="item.attachments[0].file" class="itineraryimg" alt="">
                                                </div>
                                            </div>
                                        </li>
                                    </span>
                                    </div>
                                    <button class="addAnotherBttn mt-3" (click)="expandItenary($event)" *ngIf="itinerary?.length > 2"><i class="fa fa-plus-circle" aria-hidden="true"></i> View Full Itinerary</button>
                                </ul>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="w-100 bgf2 p20 brdr_btm_d3 d-flex justify-content-between">
                    <div class="fw600 fs16">Payment & Advance</div>
                    <div class="fs13 list_clr cursor-pointer textunderline my-auto" (click)="modifyButton('payment')">Modify Payment & Advance</div>
                    <div class="cursor-pointer" (click)="toggleDetails($event,'Payment')"><i class="blue_back_arrow rotate-90 icns icon_size_20"></i></div>
                </div>
                <div id="toggleDivPayment" class="hightAnimation mh500">
                    <div class="row m-0 p30">
                        <div class="col-md-4">
                            <div class="fs14 fw600">Final package price for Adults</div>
                            <div class="fs21 fw500 mt-2">{{currency}}  {{response?.adult_price}}</div>
                            <div class="clr52 fs14">GST/VAT excluded</div>
                        </div>
                        <div class="col-md-4">
                            <div class="fs14 fw600">Final package price for Kids </div>
                            <div class="fs21 fw500 mt-2">{{currency}}  {{response?.child_with_bed_price}} <span class="clr52 fs14">(with bed)</span></div>
                            <div class="clr52 fs14">GST/VAT excluded</div>
                        </div>
                        <div class="col-md-4">
                            <div class="fs14 fw600">Final package price for Kids </div>
                            <div class="fs21 fw500 mt-2">{{currency}}  {{response?.child_without_bed_price}} <span class="clr52 fs14">(without bed)</span></div>
                            <div class="clr52 fs14">GST/VAT excluded</div>
                        </div>
                        <div class="col-md-12 px-0 row mx-0 mt-3 brdr_top_d3">
                            <div class="col-md-4 mt-3">
                                <div class="fs14 fw600">Booking Advance payable</div>
                                <div class="fs21 fw500 mt-2">{{response?.advance_pct}} %</div>
                                <div class="clr52 fs14">GST/VAT excluded</div>
                            </div>
                            <div class="col-md-4 mt-3">
                                <div class="fs14 fw600">Branch Commission</div>
                                <div class="fs21 fw500 mt-2">{{response?.b2b_pct}} %</div>
                                <div class="clr52 fs14">GST/VAT excluded</div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center mt-3" *ngIf="!editOkButton">
            <button class="searchbutton" [class.bttnactive]="bttnactive" (click)="publishTrip()">Publish</button>
        </div>
        <div class="d-flex justify-content-center mt-3" *ngIf="editOkButton">
            <button class="searchbutton" [class.bttnactive]="bttnactive" (click)="gotTopackages()">Submit</button>
            <button class="searchbutton" [class.bttnactive]="bttnactive" (click)="availabilityPopUp()">Add Availability</button>
        </div>
    </div>
</div>

<div class="container pt-3 animationdiv" *ngIf="published">
    <div class="availabilityDate">
        <div class="text-center">
            <div class="fs20 fw500">Set Availability Calender</div>
        </div>
        <div class="pt20 d-flex justify-content-center">
           <div class="position-relative" [owlDateTimeTrigger]="dt10">
                <input  [owlDateTime]="dt10" [selectMode]="'range'" [(ngModel)]="dateRange" class="form-control" [min]="minDate" placeholder="select Date Range">
                <owl-date-time [pickerType]="'calendar'" #dt10></owl-date-time>
                <div class="daterangeIcon">
                    <i class="icns calendaricon icon_size_20"></i>
                </div>
           </div>
           <div class="pl-2">
               <button class="addAnotherBttn" (click)="addRange()">+ Add Date Range</button>
           </div>
        </div>
        <div *ngIf="dateRangeArray.length > 0" class="row mx-0 pt20">
            <div class="col-md-4 pb-2" *ngFor="let data of dateRangeArray;let i = index;">
                <div class="dateCard">
                    <div class="rangeClose" (click)="removeRange(i)">X</div>
                    <div class="fw500 Premium_blue">Range {{i+1}}:</div>
                    <div class="pl-3">
                        <div>From : {{data.start_date }}</div>
                        <div>To : {{data.end_date }}</div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 text-center">
                <button class="searchbutton" [class.bttnactive]="bttnactive" (click)="availabilityAdd()">Submit</button>
            </div>
        </div>
        
    </div>
    
</div>



